		水一篇，其实是给自己补课，在工作中发现自己在短路运算的运用上很不熟练，就写一篇给自己梳理一下；

​		短路运算，顾名思义，在运算中如果提前得出结果，那么这次运算就结束了，会返回得出结果的那个变量，并且后面参与运算的变量不再进行计算；

​		怎么理解呢？老样子看个例子：

```python
a = 'a'
b = 'b'

def c():
    print("This is c!")
    return 0

d = False
print(d or c() or a or b)
print('-----------------------')
print(a and b and d and c())
print('-----------------------')
print(a and b or c())
print('-----------------------')
print(a and d or c())

```

运行结果：

```
This is c!
a
-----------------------
False
-----------------------
b
-----------------------
This is c!
0
```

然后开始解读结果；

首先，在定义中，变量a、b均为真，函数c和变量d均为假；在第一个print的表达式中，多个or运算时有一个为真则整个表达式为真，于是程序从左往右开始逐个判断，判断过程为：**第一个d为假，第二个c执行后打印了一句话并返回了假，第三个a为真，运算中止并返回当前变量，即返回变量a，从而传给print打印了出来**；所以第一个表达式打印了 "This is c!"和a；

同理，在第二个print中，and运算时有一个为假则整个表达式为假，**第一个a为真，第二个b也为真，第三个d为假，运算中止，表达式返回d并打印**；所以第二个表达式打印了False；

第三个print中，表达式等价于**(a and b) or c()**,从左往右算，因此**先看a and b，参考第二个print得出结果为'b'，为真；结果再与后面的变量进行计算，由于后面只剩一个or运算，且前半部分的结果已经为真，因此运算中止，不再执行c()，并返回当前变量b并打印**，所以第三个print打印了个b；

第四个print中，前半部分同理，**返回的是d，为False，所以运算继续进行，执行c()，打印了"This is c!"并得到返回结果0，表达式结束，整个表达式为假，返回当前变量，即函数c并打印其返回值**；所以第四个print打印了一句"This is c!"和c的返回值0；



经过上面的例子应该能理解短路运算的原理了，但是实际应用场景我目前只遇到一种，如果有以后看到别的还会再补充；

在一些有先判断数据是否完整或者是否符合的需求时，可以不再单独弄个if来判断；比如上面的例子中的第三个print，是先判断a and b的真假，然后和函数c判断，最后决定打印哪个，因此可以这么玩：**将a置为需要判断的条件，b是a为真时需要执行的变量，c是a为假时要执行的**；这样就等价于：

```python
if a:
    print(b)
else:
    print(c)
```

这种菜鸟写法（我就是菜鸟）就可以变为：

```python
print(a and b or c)
```

更酷更Python！



[返回首页](https://ko710395.github.io/)